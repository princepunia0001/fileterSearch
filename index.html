<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Cards</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #111;
    }
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #111;
      font-family: sans-serif;
    }
    .main {
      width: 100%;
      max-width: 900px;
      margin: 2rem auto;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #search {
      margin-bottom: 1.5rem;
      width: 100%;
      display: flex;
      justify-content: center;
    }
    input[type="search"] {
      border-radius: 25px;
      border: 1px solid #bbb;
      padding: 0.6em 1.4em;
      font-size: 1rem;
      width: 180px;
      text-align: center;
      box-shadow: 0 2px 8px #0003;
      transition: width 0.3s;
    }
    input[type="search"]:focus {
      width: 260px;
      outline: none;
      border-color: #e44;
    }
    .cards-container {
      width: 100%;
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      justify-content: center;
    }
    .card {
      width: 220px;
      background: #fff;
      border-radius: 1rem;
      box-shadow: 0 6px 24px rgba(0,0,0,0.13);
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 1.5rem;
      transition: transform 0.1s;
    }
    .card:hover {
      transform: translateY(-3px) scale(1.01);
      box-shadow: 0 14px 32px rgba(0,0,0,0.14);
    }
    .bg-img {
      width: 100%;
      height: 170px;
      overflow: hidden;
      object-fit: cover;
      object-position:center;
      
      border-top-left-radius: 1rem;
      border-top-right-radius: 1rem;
      filter: brightness(0.95);
      z-index: 0;
      
    }
    .blurred-layer {
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 170px;
      width: 100%;
      background: rgba(53,16,16,0.15);
      backdrop-filter: blur(0.2px);
      z-index: 1;
      pointer-events: none;
      
    }
    
    img:hover{
      cursor: pointer;
      transition: 10s;
      
    }
    .content {
      position: relative;
      z-index: 2;
      padding: 1em 1.3em 1.4em 1.3em;
      text-align: center;
      background: #fff;
      width: 100%;
      border-radius: 0 0 1rem 1rem;
      min-height: 90px;
    }
    .content h3 {
      margin: 0 0 .4em 0;
      font-size: 1.22rem;
      color: #222;
      font-weight: 600;
      letter-spacing: 0.02em;
    }
    .content p {
      color: #555;
      font-size: 1rem;
      margin: 0;
      line-height: 1.33;
    }
    .no-users {
      color: #eee;
      margin-top: 2.5em;
      font-size: 1.25em;
      letter-spacing: 0.02em;
      width: 100%;
      text-align: center;
      opacity: 0.8;
    }
    @media (max-width: 600px) {
      .card { width: 94vw; margin: 0 1.5vw 2em 1.5vw;}
      .main    { max-width: 100vw;}
      .bg-img, .blurred-layer { height: 140px;}
      .content{ min-height: 70px; padding-bottom: 1em;}
    }
  </style>
</head>
<body>
  <div class="main">
    <div id="search">
      <input type="search" placeholder="Search name..." autocomplete="off" aria-label="Search for user name">
    </div>
    <div class="cards-container"></div>
  </div>
  <script> 
    const data = [
  {
    name: "Olivia",
    bio: "Enjoys hiking, traveling, and photography. â¤ï¸âœ¨ðŸ’¬",
    pic: "https://images.pexels.com/photos/4519118/pexels-photo-4519118.jpeg"
  },
  {
    name: "Liam",
    bio: "Software engineer with a love for music. â¤ï¸âœ¨ðŸ’¬",
    pic: "https://images.pexels.com/photos/1391498/pexels-photo-1391498.jpeg"
  },
  {
    name: "Emma",
    bio: "Avid reader and aspiring writer. â¤ï¸âœ¨ðŸ’¬",
    pic: "https://images.pexels.com/photos/1642228/pexels-photo-1642228.jpeg"
  },
  {
    name: "Noah",
    bio: "Passionate about football and technology. â¤ï¸âœ¨ðŸ’¬",
    pic: "https://images.pexels.com/photos/1755385/pexels-photo-1755385.jpeg"
  },
  {
    name: "Ava",
    bio: "Plant lover and coffee enthusiast. â¤ï¸âœ¨ðŸ’¬",
    pic: "https://images.pexels.com/photos/1755385/pexels-photo-1755385.jpeg"
  },
  {
    name: "William",
    bio: "Enjoys woodworking and volunteering. â¤ï¸âœ¨ðŸ’¬",
    pic: "https://images.pexels.com/photos/33034132/pexels-photo-33034132.jpeg"
  },
  {
    name: "Sophia",
    bio: "Passionate about art and design. â¤ï¸âœ¨ðŸ’¬",
    pic: "https://images.pexels.com/photos/3806244/pexels-photo-3806244.jpeg"
  },
  {
    name: "James",
    bio: "Runner, gamer, and tech enthusiast. â¤ï¸âœ¨ðŸ’¬",
    pic: "https://images.pexels.com/photos/3622619/pexels-photo-3622619.jpeg"
  },
  {
    name: "Isabella",
    bio: "Food blogger and yoga learner. â¤ï¸âœ¨ðŸ’¬",
    pic: "https://images.pexels.com/photos/3828242/pexels-photo-3828242.jpeg"
  },
  
];

// Efficiently generate card node
function createCard(user) {
  const card = document.createElement('div');
  card.className = 'card';

  const img = document.createElement('img');
  img.className = 'bg-img';
  img.src = user.pic;
  img.alt = `${user.name}'s picture`;

  const blurredLayer = document.createElement('div');
  blurredLayer.className = 'blurred-layer';

  const content = document.createElement('div');
  content.className = 'content';

  const h3 = document.createElement('h3');
  h3.textContent = user.name;

  const p = document.createElement('p');
  p.textContent = user.bio;

  content.append(h3, p);
  card.append(img, blurredLayer, content);

  return card;
}

function showUsers(users) {
  const container = document.querySelector('.cards-container');
  container.innerHTML = '';
  if (users.length === 0) {
    const msg = document.createElement('div');
    msg.className = 'no-users';
    msg.textContent = "No users found!";
    container.appendChild(msg);
    return;
  }
  // Use a document fragment for better performance
  const fragment = document.createDocumentFragment();
  users.forEach(user => fragment.appendChild(createCard(user)));
  container.appendChild(fragment);
}

// Debounce utility to avoid excessive filtering while typing fast
function debounce(fn, ms = 170) {
  let timeout;
  return function (...args) {
    clearTimeout(timeout);
    timeout = setTimeout(() => fn.apply(this, args), ms);
  };
}

// ------ Main App Logic ------
document.addEventListener('DOMContentLoaded', () => {
  const searchInput = document.querySelector('input[type="search"]');
  showUsers(data);

  // Optionally inform about case-sensitivity (but default is case-insensitive now)
  // searchInput.addEventListener('click', () => alert('Search is Case INSENSITIVE'));

  searchInput.addEventListener('input', debounce(() => {
    const searchVal = searchInput.value.trim().toLowerCase();
    if (searchVal === '') return showUsers(data);

    const filtered = data.filter(user =>
      user.name.toLowerCase().startsWith(searchVal)
    );
    showUsers(filtered);
  }, 120));
});

  </script>
</body>
</html>
